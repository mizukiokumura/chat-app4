<div class="chat-message">
  <div class="chat-user-date">
    <div class="user-name">
      <%= message.user.name%>
    </div>
    <div class="date">
      <%= l message.created_at %>
    </div>
  </div>
  <div class="message">
    <div class="message-content">
      <%= message.content%>
    </div>
    <%= image_tag message.image.variant(resize: '500x500'), class: 'message-image' if message.image.attached? %>
  </div>
</div>

<%# 問題8
<%= message.user.name >
messagesテーブルのuser_idに紐づいているユーザー名を、user.nameと記述することで取得している。
<%= message.created_at >
messagesテーブルのcreated_atカラムから、投稿した時刻を取得している。
ただし、現段階では日本基準の時刻ではない。
<%= message.content>
messagesテーブルのcontentカラムから、メッセージの内容を取得している。 %>

<%# image_tagメソッド
img要素を生成するRailsのヘルパーメソッド
image_tagメソッドは、複雑なRailsのディレクトリパスを指定しなくても、モデルから画像ファイルを呼び出して引数に記述するだけで、画像を表示するimg要素を生成する。
# ファイルをモデルから指定する場合
<%= image_tag モデル.画像ファイル >
<%= image_tag user.avatar >

# app/assets/ディレクトリ下の画像ファイルパスでも指定できる
<%= image_tag 画像ファイルのパス >
<%= image_tag "avatar.png" > %>

<%# attached?メソッド
レコードにファイルが添付されているかどうかで、trueかfalseを返すメソッド。
例
モデル.ファイル名.attached?

ファイルが添付されていればtrue,添付がなければfalseを返す。 %>

<%# variantメソッド
Active Storageを導入している場合に使用可能なメソッド。
variantメソッドを使用することで、ファイルの表示サイズを指定できる。
例
モデル.ファイル名.variant(resize: '幅x高さ')

保存されている画像データを指定されたサイズに変換し、その画像を返す。 %>